<!DOCTYPE html>
<html>
<head>
    <title>Analysis Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding: 20px; }
        .stat-card { background: #f8f9fa; padding: 20px; border-radius: 5px; margin-bottom: 15px; }
        .stat-number { font-size: 2rem; font-weight: bold; color: #007bff; }
        .team-list { max-height: 300px; overflow-y: auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mb-4">‚öΩ Premier League Analysis Dashboard</h1>
        <a href="/" class="btn btn-outline-primary mb-4">‚Üê Back to Home</a>
        
        <!-- Statistics Row -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stat-card text-center">
                    <h5>Total Matches</h5>
                    <div class="stat-number">{{ stats.total_matches }}</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card text-center">
                    <h5>Home Win Rate</h5>
                    <div class="stat-number">{{ stats.home_win_rate }}</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card text-center">
                    <h5>Away Win Rate</h5>
                    <div class="stat-number">{{ stats.away_win_rate }}</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card text-center">
                    <h5>Avg Goals/Match</h5>
                    <div class="stat-number">{{ stats.avg_goals }}</div>
                </div>
            </div>
        </div>
        
        <!-- Top Teams and Sample Data -->
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5>üèÜ Top Teams by Wins</h5>
                        <div class="team-list">
                            <ol>
                                {% for team, wins in top_teams.items() %}
                                <li>{{ team }}: {{ wins }} wins</li>
                                {% endfor %}
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5>üìÖ Seasons Analyzed</h5>
                        <ul>
                            {% for season in stats.seasons %}
                            <li>{{ season }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Sample Data Table -->
        <div class="card mt-4">
            <div class="card-body">
                <h5>üìã Sample Match Data</h5>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Home Team</th>
                                <th>Away Team</th>
                                <th>Home Goals</th>
                                <th>Away Goals</th>
                                <th>Result</th>
                                <th>Season</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for match in sample_data %}
                            <tr>
                                <td>{{ match.get('HomeTeam', 'N/A') }}</td>
                                <td>{{ match.get('AwayTeam', 'N/A') }}</td>
                                <td>{{ match.get('FTHG', 'N/A') }}</td>
                                <td>{{ match.get('FTAG', 'N/A') }}</td>
                                <td>{{ match.get('FTR', 'N/A') }}</td>
                                <td>{{ match.get('Season', 'N/A') }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- API Examples -->
        <div class="card mt-4">
            <div class="card-body">
                <h5>üîó API Examples</h5>
                <ul>
                    <li><a href="/api/v1/data/all" target="_blank">All match data (JSON)</a></li>
                    <li><a href="/api/v1/data/stats" target="_blank">Statistics (JSON)</a></li>
                    <li><a href="/api/v1/data/filter?team=Arsenal" target="_blank">Arsenal matches</a></li>
                    <li><a href="/api/v1/data/filter?season=2023-2024" target="_blank">2023-2024 season</a></li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>